<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://www.hibernate.org/dtd/hibernate-mapping">

<hibernate-mapping>
  <class name="com.metavante.cortex.domain.crdbase.customer.basic.BasicCustomer"
    entity-name="com.metavante.cortex.domain.crdbase.customer.Customer" table="CUSTDET" mutable="false" optimistic-lock="version">

	<id name="id" type="long">
		<column name="id" />
		<generator class="native">
			<param name="sequence_name">${custdet_id.generator.sequence}</param>
		</generator>
	</id>
		
    <version name="versionNumber" column="VERNO_CTX" access="field"></version>

	<many-to-one name="institution" class="com.fis.cortex.domain.core.institution.Institution" column="inst_id" access="field" fetch="select" lazy="proxy"/>      
    
    <property name="customerCode" column="CUSTCODE" access="field" />
      
    <set name="cards" inverse="true" access="field" lazy="extra">
      <key>
			<column name="custdet_id" />
      </key>
      <one-to-many class="com.metavante.cortex.domain.crdbase.card.Card" />
    </set>

    <property name="addressIndicator" column="ADDRIND" not-null="true" />

    <property name="collectionZone" column="COLLECTION_ZONE" not-null="true" />

    <property name="dateAccepted" column="DATE_ACCEPTED" type="date" not-null="true" />

    <property name="emailAddress" column="EMAIL" not-null="true" />

    <property name="fax" column="FAX" not-null="true" />

    <property name="firstName" column="FIRSTNAME" not-null="true" />

    <component name="homeAddress" class="com.metavante.cortex.domain.crdbase.customer.basic.BasicAddress">
      <property name="addressLine0" column="ADDRL0" not-null="true" access="field" />
      <property name="addressLine1" column="ADDRL1" not-null="true" access="field" />
      <property name="addressLine2" column="ADDRL2" not-null="true" access="field" />
      <property name="addressLine3" column="ADDRL3" not-null="true" access="field" />
      <property name="city" column="HOME_CITY" not-null="true" access="field" />
      <property name="postCode" column="POSTCODE" not-null="true" />
    </component>

    <property name="homeTelephoneNumber" column="HOME_TEL" not-null="true" />

    <!-- property name="idNumber" column="ID_NUMBER" not-null="true"
      type="com.nomadsoft.cortex.infrastructure.hibernate.FixedCharToStringUserType" / -->
    <property name="idNumber" column="ID_NUMBER" not-null="true" />

    <property name="lastName" column="LASTNAME" not-null="true" />

    <property name="mailShots" column="MAILSHOTS" not-null="true" />

    <property name="maritalStatus" column="MARRIED" not-null="true" />

    <!-- property name="memo" column="MEMO" /-->

    <property name="numberBouncedChequesPrimaryCurrency" column="NUM_BOUNCED1" not-null="true" />

    <property name="numberBouncedChequesSecondaryCurrency" column="NUM_BOUNCED2" not-null="true" />

    <property name="POBox" column="PO_BOX" not-null="true" />

    <property name="preferredLanguage" column="PRFLANG" />

    <property name="professionCode" column="PROF_CODE" not-null="true" />

    <property name="refuseCheque" column="REFUSE_CHEQUE" not-null="true" />

    <property name="sex" column="SEX" not-null="true" />

    <property name="statementCode" column="STMT_CODE" not-null="true" />

    <!-- property name="title" column="TITLE" not-null="true"
      type="com.nomadsoft.cortex.infrastructure.hibernate.FixedCharToStringUserType" / -->
    <property name="title" column="TITLE" not-null="true" />

    <property name="customerType" column="TYPEID" not-null="true" />

    <property name="userData1" column="USRDATA1" not-null="true" />

    <property name="userData2" column="USRDATA2" not-null="true" />

    <property name="userData3" column="USRDATA3" not-null="true" />
    
    <property name="userData4" column="USRDATA4" />

    <component name="workAddress" class="com.metavante.cortex.domain.crdbase.customer.basic.BasicAddress">
      <property name="addressLine1" column="WORK_ADDR1" not-null="true" access="field" />
      <property name="addressLine2" column="WORK_ADDR2" not-null="true" access="field" />
      <property name="addressLine3" column="WORK_ADDR3" not-null="true" access="field" />
      <property name="city" column="WORK_CITY" not-null="true" access="field" />
      <property name="postCode" column="WORK_POSTCODE" not-null="true" />
    </component>
    
    <property name="workTelephoneNumber" column="WORK_TEL" not-null="true" />
    
    <many-to-one name="overaddress" class="com.metavante.cortex.domain.crdbase.customer.basic.BasicOveraddress" access="field" fetch="select" lazy="proxy" 
    	not-found="ignore" insert="false" update="false">
		<column name="id" />
	</many-to-one>

  </class>

</hibernate-mapping>
