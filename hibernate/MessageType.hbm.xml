<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://www.hibernate.org/dtd/hibernate-mapping">

<hibernate-mapping>
    <class name="com.metavante.cortex.domain.ccs.message.basic.BasicMessageType"
        entity-name="com.metavante.cortex.domain.ccs.message.MessageType" table="CCSMSGTYPE" 
        lazy="false" optimistic-lock="version">

        <id name="id" type="int">
            <column name="MSGID" />
            <generator class="native">
                <param name="sequence_name">${ccsmsgtype_id.generator.sequence}</param>
            </generator>
        </id>
        
        <version name="versionNumber" column="VERNO_CTX" access="field"></version>

		<many-to-one name="institution" class="com.fis.cortex.domain.core.institution.Institution" column="inst_id" access="field" fetch="select" lazy="proxy"/>      

        <property name="messageClass" column="MSGCLASS" type="char" not-null="true" />

        <property name="description" column="MSGDESCR" not-null="true" />

        <property name="priority" column="MSGPRIO" not-null="true" />

        <property name="position" column="MSGPOS" not-null="true" />

        <property name="effectiveDate" column="EFFDATE" type="date" not-null="true" />

        <property name="purgeDate" column="PURGEDATE" type="date" not-null="true" />

        <property name="profile" column="CHRGPRFID" not-null="true" />

        <property name="scheme" column="SCHEME" not-null="true" />

        <property name="conditionType" column="CNDTYPE" not-null="true" />

        <property name="condition1" column="CND1" not-null="true" />

        <property name="condition2" column="CND2" not-null="true" />

        <set name="messages" fetch="select" inverse="false" cascade="save-update" lazy="extra">
            <key>
                <column name="MSGID" not-null="true" />
            </key>
            <one-to-many class="com.metavante.cortex.domain.ccs.message.Message" />
        </set>
    </class>
</hibernate-mapping>
