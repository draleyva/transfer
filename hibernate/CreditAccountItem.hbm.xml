<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping">

<hibernate-mapping>
    <class name="com.metavante.cortex.domain.ccs.creditaccountitem.basic.BasicCreditAccountItem" table="ccsitem" 
    dynamic-update="true" dynamic-insert="true">
    <!-- class name="com.metavante.cortex.domain.ccs.creditaccountitem.basic.BasicCreditAccountItem" table="ccsitem" optimistic-lock="version"
    dynamic-update="true" dynamic-insert="true"-->

         <id name="itemId" type="long">
           <column name="item_id" />
            <generator class="native">
              <param name="sequence_name">${ccsitem_id.generator.sequence}</param>
            </generator>
          </id>
          
        <!-- version name="versionNumber" column="verno_ctx" access="field"/-->        
        
        <property name="transactionId" type="long" column="txn_id" not-null="true" />
        <property name="txnauthId" type="long" column ="txnauth_id" not-null="true" />
        <property name="accountId" type="long" column ="acc_id" not-null="true" />
        <property name="accountNumber" type="string" column="accno" length="28" not-null="true" />
        <property name="localDate" type="date" column="datelocal" length="4" not-null="true" />
        <property name="dateTransmitted" type="date" column="datexmit" length="4" not-null="true" />
        <property name="timeTransmitted" type="int" column="timexmit" not-null="true" />
        <property name="cortexDate" type="date" column="ctxdate" length="4" not-null="true" />
        <property name="transactionDate" type="date" column="datetxn" length="4" not-null="true" />
        <property name="description" type="string" column="description"  />        
        <property name="transactionCode" type="short" column="txncode" not-null="true" />
        <property name="transactionStatus" type="short" column="txnstatus" not-null="true" />
        <property name="functionCode" type="short" column="fncode" not-null="true" />
        <property name="messageClass" type="char" column="msgcls" length="1" not-null="true" />
        <property name="messageFunction" type="char" column="msgfn" length="1" not-null="true" />
        <property name="transactionSource" type="char" column="txnsrc" length="1" not-null="true" />
        <property name="cardNumber" type="string" column="pan" length="19" />
        <property name="displayPan" type="string" column="pan_display" length="19" />
        <property name="cardSequenceNumber" type="short" column="crdseqno" not-null="true" />
        <property name="merchantCategoryCode" type="short" column ="crdacptbus" not-null="true" />
        <property name="merchantId" type="string" column="crdacptid" length="15" not-null="true" />
        <property name="acquirerInstitutionId" type="string" column="aiid" length="11" not-null="true" />
        <property name="acquiringCountry" type="string" column="acqcountry" length="3" not-null="true" />
        <property name="componentCode" type="short" column="comp_code" not-null="false" />
        <property name="cycle" type="string" column="cyclecode" length="10" not-null="true" />
        <property name="cycleCount" type="int" column ="cycle_count" not-null="true" />
        <property name="posted" type="com.metavante.cortex.infrastructure.hibernate.types.PostedTypeEnumType" column="posted" not-null="true" />
        <property name="systemTraceAuditNumber" type="int" column="stan" not-null="true" />
        <property name="retailReferenceNumber" type="string" column ="rrn" length="12" not-null="true" />
        <property name="merchantLocation" type="string" column="crdacptloc" length="64" not-null="true" />
        <property name="chargeSession" type="short" column="chrg_session" not-null="true" />
        <property name="chargeSequenceNumber" type="int" column="chrg_seqno" not-null="true" />
        <property name="itemType" type="short" column="itemtype" not-null="true" />
        <property name="acquiringFinancialEntity" type="string" column="afe" length="8" not-null="true" />
        <property name="issuingFinancialEntity" type="string" column="ife" length="8" not-null="true" />
        <property name="additionalItemType" type="int" column="reftype" not-null="true" />
        <property name="postedToGeneralLedger" type="com.metavante.cortex.infrastructure.hibernate.types.PostedToGeneralLedgerTypeEnumType" column="glposted" not-null="true" />
        <property name="termcode" type="string" column="termcode" length="16" not-null="true" />
        <property name="applicationRule" type="short" column="applrule" not-null="false" />
        <property name="statementItem" type="short" column="stmtitem" not-null="true" />
        <property name="userData" type="string" column="usrdata" length="16" not-null="false" />
        <property name="itemFlags" type="string" column="itemflags" length="8" not-null="true" />
        <property name="numberOfFirstAuthorizationAccountTheItemWasAppliedTo" type="string" column="authaccno" length="28" not-null="true" />
        <property name="accountNumber2" type="string" column="accno2" length="28" not-null="true" />
        <property name="settlementCurrency" type="string" column="curset" length="3" not-null="true" />
        <property name="interestCalculationDate" type="date" column="intrdate" length="4" not-null="false" />
        <property name="applicationSequence" type="int" column="applseq" not-null="true" />
        <property name="batchType" type="short" column="btchtype" not-null="false" />
        <property name="description2" type="string" column="description2"  />
        <property name="description3" type="string" column="description3"  />
        <property name="itemCategories" type="string" column="itemcat" />
        
        <many-to-one name="institution" class="com.fis.cortex.domain.core.institution.Institution" column="inst_id" access="field" fetch="select" lazy="proxy"/>      
        
        <many-to-one name="currency" class="com.metavante.cortex.domain.money.Currency"
            column="currcode" access="field" fetch="select" lazy="proxy"/>
        
        <many-to-one name="creditAccount" class="com.metavante.cortex.domain.ccs.creditaccount.basic.BasicCreditAccount"
                    update="false" insert="false" fetch="select" not-found="ignore">
            <column name="acc_id" not-null="true" />
        </many-to-one>
        
        <many-to-one name="transactionCurrency" class="com.metavante.cortex.domain.money.Currency" column="curtxn" access="field" fetch="select" lazy="proxy"/>
            
        <!-- billingAmount -->
        <component name="billingAmount" class="com.metavante.cortex.domain.money.Money">
            <property name="amount" column="amtbill" not-null="true" access="field"/>
            <many-to-one name="currency" class="com.metavante.cortex.domain.money.Currency"
                        cascade="none" access="field" insert="false" update="false">
                <column name="currcode"/>
            </many-to-one>
        </component>
        
        <!-- transactionAmount -->
        <component name="transactionAmount" class="com.metavante.cortex.domain.money.Money">
            <property name="amount" column="amttxn" not-null="true" access="field"/>
            <many-to-one name="currency" class="com.metavante.cortex.domain.money.Currency"
                        cascade="none" access="field" insert="false" update="false">
                <column name="currcode"/>
            </many-to-one>
        </component>
        
        <!-- settlementAmount -->
        <component name="settlementAmount" class="com.metavante.cortex.domain.money.Money">
            <property name="amount" column="amtunset" not-null="true" access="field"/>
            <many-to-one name="currency" class="com.metavante.cortex.domain.money.Currency"
                        cascade="none" access="field" insert="false" update="false">
                <column name="currcode"/>
            </many-to-one>
        </component>
        
        <!-- amountDebitedFromSurplusWhileApplying -->
        <component name="amountDebitedFromSurplusWhileApplying" class="com.metavante.cortex.domain.money.Money">
            <property name="amount" column="surpdebit" not-null="true" access="field"/>
            <many-to-one name="currency" class="com.metavante.cortex.domain.money.Currency"
                        cascade="none" access="field" insert="false" update="false">
                <column name="currcode"/>
            </many-to-one>
        </component>
        
        <!-- settlementAmount-->
        <component name="settlementAmount2" class="com.metavante.cortex.domain.money.Money">
            <property name="amount" column="amtset" not-null="true" access="field"/>
            <many-to-one name="currency" class="com.metavante.cortex.domain.money.Currency"
                        cascade="none" access="field" insert="false" update="false">
                <column name="currcode"/>
            </many-to-one>
        </component>

    </class>

</hibernate-mapping>
