<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping">

<hibernate-mapping>
    <class name="com.metavante.cortex.domain.ccs.creditaccountscheme.basic.BasicNextCreditAccountScheme" table="ccsnxtscheme" 
                dynamic-update="true" dynamic-insert="true" >
        <composite-id name="id" class="com.metavante.cortex.identities.NextCreditAccountSchemeId">
            <key-property name="transitionDate" type="date">
                <column name="transdate" length="4" />
            </key-property>
            <key-many-to-one name="creditAccount" class="com.metavante.cortex.domain.ccs.creditaccount.basic.BasicCreditAccount" >
                <column name="acc_id" not-null="true" />
            </key-many-to-one>
        </composite-id>

        <many-to-one name="profile" class="com.metavante.cortex.domain.ccs.creditaccountprofile.basic.BasicCreditAccountProfile" 
                    update="true" insert="true" fetch="select" lazy="proxy">
            <column name="chrgprfid"  />
            <formula>inst_id</formula>
        </many-to-one>
        <many-to-one name="scheme" class="com.metavante.cortex.domain.ccs.creditaccountscheme.basic.BasicCreditAccountScheme" 
                    update="true" insert="true" fetch="select" lazy="proxy">
            <formula>CHRGPRFID</formula>
            <formula>inst_id</formula>
            <column name="scheme"/>
        </many-to-one>
		
		<many-to-one name="institution" class="com.fis.cortex.domain.core.institution.Institution" column="inst_id" access="field" fetch="select" lazy="proxy"/>      
        
        <property name="pending" type="com.metavante.cortex.infrastructure.hibernate.types.PendingTypeEnumType">
            <column name="pending" not-null="true" />
        </property>
    </class>
</hibernate-mapping>
