<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping">
<!-- Generated 01-Jun-2006 12:26:12 by Hibernate Tools 3.1.0.beta5 -->
<hibernate-mapping>
    <class name="com.metavante.cortex.domain.crdbase.card.basic.BasicCard"
        entity-name="com.metavante.cortex.domain.crdbase.card.Card" table="CRDDET" mutable="false"
        optimistic-lock="version">

		<id name="id" type="long">
			<column name="id" />
			<generator class="native">
				<param name="sequence_name">${crddet_id.generator.sequence}</param>
			</generator>
		</id>

        <version name="versionNumber" column="verno_ctx" access="field"></version>

		
       <property name="pan" type="string" column="pan" length="19" />
       <property name="sequenceNumber" type="short" column="seqno" />
       <property name="accountNumber" formula="(select acct.accno from accdet acct where acct.id=accdet_id)" not-null="true" />
        <property name="additionalNumber" column="additionalno" not-null="true" />
        <property name="title" column="title" not-null="true" />
        <property name="firstName" column="firstname" not-null="true" />
        <property name="lastName" column="lastname" not-null="true" />
        <property name="embossName" column="embossname" not-null="true" />
        <property name="cardStatus" column="statcode" not-null="true" />
        <property name="virtualPan" column="iss_host_crdref" />
        <property name="displayPan" column="pan_display" />
        <property name="accountId" column="accdet_id" />

	<many-to-one name="customer" class="com.metavante.cortex.domain.crdbase.customer.Customer" access="field" fetch="select" lazy="proxy">
		<column name="custdet_id" />
	</many-to-one>
    <many-to-one name="cardProductLimits" class="com.metavante.cortex.domain.crdbase.card.CardProductLimits" access="field" fetch="select" lazy="proxy" not-null="false" not-found="ignore">
        <column name="crdproduct_id" />
    </many-to-one>

  </class>
</hibernate-mapping>
